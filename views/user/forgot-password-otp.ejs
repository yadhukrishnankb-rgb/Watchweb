<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Verify OTP</title>
<script>
let timer = <%= timer %>;
function startTimer() {
  const timerSpan = document.getElementById('timer');
  const resendBtn = document.getElementById('resendBtn');
  resendBtn.disabled = true;
  let interval = setInterval(() => {
    if (timer <= 0) {
      clearInterval(interval);
      timerSpan.textContent = "00:00";
      resendBtn.disabled = false;
    } else {
      let min = String(Math.floor(timer / 60)).padStart(2, '0');
      let sec = String(timer % 60).padStart(2, '0');
      timerSpan.textContent = min + ":" + sec;
      timer--;
    }
  }, 1000);
}
window.onload = startTimer;
</script>
</head>
<body>
<div>
  <h2>Enter OTP</h2>
  <% if (message) { %><div><%= message %></div><% } %>
  <form action="/forgot-password-otp" method="POST">
    <input type="text" name="otp" maxlength="6" required placeholder="Enter OTP">
    <button type="submit">Verify OTP</button>
  </form>
  <div>
    <span>OTP expires in <span id="timer"></span></span>
  </div>
  <form action="/resend-otp" method="POST">
    <button type="submit" id="resendBtn" disabled>Resend OTP</button>
  </form>
</div>
</body>
</html>